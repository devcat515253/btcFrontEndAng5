<div class="step">
  <div class="step-title"><h3 class="h3">3. Personal info and wallet</h3></div>

  <div class="text-center tip-link">
    <a href="#" class="link tt-uppercase" (click)="fillLastData($event)">Fill from last</a>
  </div>

  <form action="#" class="form" [ngClass]="{'custom-loader disabled': loading}" (submit)="submit($event)" [formGroup]="step4_2Form"  #form4_2="ngForm" novalidate>

    <label class="form-group" [ngClass]="{'has-error':
           (step4_2Form.controls['name'].hasError('required')
           || step4_2Form.controls['name'].hasError('maxlength'))
           && form4_2.submitted}">
      <span class="form-title">{{ 'exchange.PersonalInfo.Name' | translate }}:</span>
      <input type="text" [(ngModel)]="formModel.controlsName" formControlName="name" class="form-control" placeholder="your@email.com">
      <span *ngIf="step4_2Form.controls['name'].hasError('required') && form4_2.submitted"
            class="error-label">Required field</span>
      <span *ngIf="step4_2Form.controls['name'].hasError('maxlength') && form4_2.submitted"
            class="error-label">The maximum number of characters 64</span>
    </label>

    <div class="double">
      <label class="form-group" [ngClass]="{'has-error':
           (step4_2Form.controls['bank'].hasError('required')
           || step4_2Form.controls['bank'].hasError('maxlength'))
           && form4_2.submitted}">
        <span class="form-title">{{ 'exchange.PersonalInfo.BankAccount' | translate }}:</span>
        <input type="text" [(ngModel)]="formModel.controlsBank" formControlName="bank" class="form-control" placeholder="1112003761">
        <span *ngIf="step4_2Form.controls['bank'].hasError('required') && form4_2.submitted"
              class="error-label">Required field</span>
        <span *ngIf="step4_2Form.controls['bank'].hasError('maxlength') && form4_2.submitted"
              class="error-label">The maximum number of characters 64</span>
      </label>

      <label class="form-group" [ngClass]="{'has-error':
           (step4_2Form.controls['bank_code'].hasError('required')
           || step4_2Form.controls['bank_code'].hasError('maxlength'))
           && form4_2.submitted}">
        <span class="form-title">{{ 'exchange.PersonalInfo.BankCode' | translate }}:</span>
        <input type="text" [(ngModel)]="formModel.controlsBankCode" formControlName="bank_code" class="form-control" placeholder="0600">
        <span *ngIf="step4_2Form.controls['bank_code'].hasError('required') && form4_2.submitted"
              class="error-label">Required field</span>
        <span *ngIf="step4_2Form.controls['bank_code'].hasError('maxlength') && form4_2.submitted" class="error-label">The maximum number of characters 4</span>
      </label>
    </div>

    <label class="form-group" [ngClass]="{'has-error':
           (step4_2Form.controls['email'].hasError('required')
           || step4_2Form.controls['email'].hasError('email')
           || step4_2Form.controls['email'].hasError('maxlength'))
           && form4_2.submitted}">
      <span class="form-title">Contact e-mail:</span>
      <input type="email" [(ngModel)]="user.email" formControlName="email" class="form-control" placeholder="your@email.com">
      <span *ngIf="step4_2Form.controls['email'].hasError('required') && form4_2.submitted"
            class="error-label">Required field</span>
      <span *ngIf="step4_2Form.controls['email'].hasError('email') && !step4_2Form.controls['email'].hasError('required') && form4_2.submitted"
            class="error-label">Incorrect email</span>
      <span *ngIf="step4_2Form.controls['email'].hasError('maxlength') && form4_2.submitted" class="error-label">The maximum number of characters 64</span>
    </label>


    <label class="checkbox" [ngClass]="{'has-error': (step4_2Form.controls['checkbox'].hasError('required')
           && form4_2.submitted )}">
      <input [(ngModel)]="formModel.checkboxForm" formControlName="checkbox" type="checkbox" name="policeAgree" class="checkbox-control" required>
      <span class="checkbox-icons"></span>
      <span class="checkbox-title">I agree to the <a href="#" class="link">Terms and Conditions</a> and <a href="#" class="link">Privacy Policy</a></span>
    </label>

    <div class="form-btn between-children">
      <a href="#" class="btn btn-border btn-border_accent rippler rippler-default" (click)="goToBack($event)">Back</a>

      <label>
        <button class="btn btn-accent rippler rippler-default" [disabled]="step4_2Form.invalid && form4_2.submitted">Exchange</button>
      </label>
    </div>
  </form>
</div>
